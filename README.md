# 🍳 냉장고를 부탁해 (Please Take Care of My Refrigerator)

스마트 냉장고 관리 및 레시피 추천 웹 애플리케이션입니다.
냉장고 속 재료를 효율적으로 관리하고, 남은 재료로 만들 수 있는 최적의 요리를 추천받으세요!

---

## 📅 프로젝트 히스토리

### 🚀 최신 업데이트 (2025.12.21) - "AI & 맞춤형 기능 고도화"
*   **AI OCR 교정 시스템**: SSAFY GMS API(Gemini 2.0 Flash)를 연동하여 오타나 잘린 글자도 똑똑하게 교정합니다. (예: "짜파게" ➔ "짜파게티")
*   **지능형 레시피 추천**: "이 재료로 요리하기" 클릭 시, 실제 냉장고 재료와 레시피의 매칭율을 계산하여 정렬합니다. **부족한 재료**를 목록으로 보여주어 쇼핑 편의성을 높였습니다.
*   **개인화 취향 필터**: 사용자의 프로필 태그(#채식, #다이어트 등)를 분석하여, 고기가 포함된 레시피를 제외하거나 건강식 위주로 자동 필터링합니다.
*   **데이터 정규화 & 확장**: 1,000개 레시피와 1,000여 개의 식재료 DB를 통합하여 매칭 정확도를 극대화했습니다.
*   **협업용 박제(Fixture)**: `python manage.py load_initial_data` 명령어로 언제 어디서든 서버의 완벽한 상태를 복구할 수 있습니다.

---

### ✅ 주요 기능 (2025.12.05 기준 지표)

#### 1. 🥦 스마트한 식재료 관리
*   **다양한 입력 방식**:
    *   🧾 **영수증 스캔 (OCR)**: 영수증을 찍으면 재료명과 수량을 자동으로 인식합니다. (EasyOCR + AI 교정 적용)
    *   ✏️ **직접 입력 & 자동완성**: 1,000여 개의 식재료 DB를 기반으로 합니다.
*   **보관함 관리**:
    *   **카테고리 필터**: 육류, 채소, 과일, 수산물 등 카테고리별 필터링.
    *   **유통기한 알림**: 유통기한 임박(3일 전) 항목 시각적 표시.

#### 2. 👨‍🍳 맞춤형 레시피 추천
*   **"이 재료로 요리하기"**: 내 냉장고에 있는 재료를 기반으로 매칭률이 높은 레시피 우선 추천.
*   **방대한 레시피**: 식품안전나라 API 기반 1,000개의 실제 레시피 데이터.

---

## 🛠 기술 스택
*   **Frontend**: Vue.js 3, Pinia, Vite
*   **Backend**: Django REST Framework (DRF)
*   **AI/ML**: SSAFY GMS(Gemini), EasyOCR
*   **Data**: SQLite, Pandas

---

## 🚀 실행 방법 (초기 세팅)

### 1. 백엔드 (Django)
```bash
cd backend
./venv/Scripts/activate   # Windows
# source venv/bin/activate  # Mac/Linux
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver
```
> 💡 **db.sqlite3가 Git에 포함되어 있어 별도 DB 복구 불필요!**

### 2. 프론트엔드 (Vue.js)
```bash
cd frontend
npm install
npm run dev
```

---

## 📝 상세 업데이트 로그
- **12.21**: AI 텍스트 교정 로직 추가, 외부 엑셀 DB 통합, Fixture 시스템 구축.
- **12.05**: 초기 식재료 DB 구축, 자동완성 기능, UI/UX 개선.

---

## 🔴 실시간 집중 작업 내역 (Current Development)

### ✅ 오늘 완수한 내용
- **OCR 인식 로직 강화**: '대추방울토마토', '코카콜라' 등 가공식품/신선식품 DB 매칭 정확도 향상 (정확 일치 > 포함 일치 > AI 보정).
- **그리드 UI 레이아웃 도입**: 모바일과 PC에서 모두 보기 편한 **바둑판 형태**의 카드 시스템 구축.
- **대량 관리 기능 완성**: 다중 선택 삭제(Bulk Delete) 및 만료된 재료 일괄 정리 기능 추가.
- **레시피 매칭 엔진 고도화**: 재료 이름의 부분 일치를 허용하여 추천 품질과 일치율(%) 표시 정확도 개선.

### 🚩 향후 해결 과제 (To-Do / Feedback)
- **보관함 카드 내 카테고리 태그 렌더링**: 재료명 옆에 카테고리가 다시 정상적으로 보이도록 수정 필요.
- **카테고리 상단 필터링**: 칩 선택 시 목록이 필터링되지 않는 로직 점검.
- **추천 레시피-내 재료 싱크**: 실제 재료를 보유하고 있음에도 간헐적으로 매칭 카운트가 낮게 파싱되는 현상 정밀 튜닝.
- **컴포넌트 스타일 격리**: 전체 UI 업데이트 시 디자인 간섭이 발생하지 않도록 CSS 구조화.

---

## 👩‍💻 개발자
*   **손서영** (Full Stack Developer)
*   **AI Assistant** (Pair Programming Partner 🤖)

---

## 📅 2025.12.21 (오후) 작업 내역

### ✅ 완료된 기능

#### 1. 📅 보관함 달력 뷰
- 보관함에 **목록 / 달력 / 챌린지** 탭 추가
- 달력에 **유통기한 날짜별 재료 이모지** 표시
- **3일 이내 임박 재료**: 빨간 배경으로 강조
- **임박 알림 배너**: "유통기한 임박!" + 활용하기 버튼
- **이번달 만료 목록**: D-Day 형태로 표시

#### 2. 🏆 주간 챌린지 (게이미피케이션)
- **미션 시스템**: 재료 등록, 요리 완료, 유통기한 내 소비, 폐기 0 유지
- **점수 시스템**: 미션별 포인트 획득
- **배지 시스템**: 수집가, 요리사, 에코 히어로, 완벽주의자
- **주간 통계 대시보드**: 등록/요리/소비/만료 현황

#### 3. 🍳 요리 완료 후 재료 조절
- 요리 완료 시 **사용 재료 차감 모달** 표시
- **+/- 버튼**으로 차감량 조절 (단위별 적정 스텝)
- **미보유 재료**: 차감 불가 표시 + 추가하기 버튼
- 미보유 재료 클릭 시 **재료 입력 페이지로 자동 이동** (prefill)

#### 4. 📊 레시피 추천 개선
- **50% 이상 매칭** 레시피만 추천
- **유통기한 임박 재료** 포함 레시피 우선 정렬
- 추천 결과가 적을 때 **AI 셰프 버튼** 인라인 표시

#### 5. 🤖 AI 챗봇 UI 개선
- 플로팅 버튼 **제거**
- 레시피 목록에서 필요할 때만 **모달로 열림**
- 빠른 질문 버튼 (내 재료 추천, 간단 레시피, 다이어트)

#### 6. 🧭 네비게이션 바 개선
- **홈 / 내 보관함 / 내 프로필** 메뉴 구성
- 메인 페이지에서는 스크롤 시 나타남
- 다른 페이지에서는 항상 표시

#### 7. 💡 UX 개선
- 영수증/사진 스캔 버튼에 **도움말 팁** 추가
- 조리 단계에서 개별 시간 제거, **전체 예상 조리시간**만 표시
- 재료 부족 시 **확인 모달** 표시 후 요리 시작

#### 8. 🔧 버그 수정
- 레시피 재료 중복 8개 삭제
- NoneType 에러 수정 (diet_goals, category)
- CSRF 403 에러 수정 (챗봇 API)
- 네비게이션 바 가림 문제 수정 (padding-top)

### 📁 새로 생성된 파일
- `frontend/src/components/CalendarView.vue` - 달력 뷰
- `frontend/src/components/WeeklyChallenge.vue` - 주간 챌린지
- `frontend/src/components/RecipeChatModal.vue` - AI 챗봇 모달
- `backend/fix_recipe_ingredients_batch.py` - 레시피 재료 정리 스크립트

### 🚩 향후 작업
- 레시피 재료 DB 전체 정리 (배치 스크립트로 진행)
- 이메일/푸시 알림 기능
- 요리 기록 저장 및 통계

---

## 📅 2025.12.22 업데이트: AI 아이콘 & 휴지통 & 관리 편의성

### 1. 🤖 AI 기반 식재료 아이콘 (Gemini)
*   **Gemini 2.0 Flash 연동**: 기존에 뭉툭했던 '📦' 아이콘을 모두 실제 식재료에 맞는 이모지(🥬, 🥓, 🧅 등)로 일괄 변환.
*   **스마트 매칭**: "대파" -> 🥬, "삼겹살" -> 🥓 등 시각적으로 직관적인 아이콘 적용.

### 2. 🗑️ 휴지통(Soft Delete) 기능
*   **실수 방지**: 재료 삭제 시 바로 사라지지 않고 휴지통으로 이동.
*   **복구 및 영구 삭제**: 휴지통에서 언제든지 복구하거나 완전히 삭제 가능.
*   **부분 버리기**: 수량이 많은 재료는 **원하는 만큼만** 덜어서 버릴 수 있음 (예: 5개 중 2개만 버림 -> 차감분은 휴지통행).

### 3. ⚙️ 관리 편의성 대폭 개선
*   **UI 명칭 직관화**: [관리] 버튼 -> **[☑️ 선택하기]**로 변경하여 일괄 선택 기능임을 명확화.
*   **상세 카드 관리**:
    *   **단위 퀵 수정**: g, kg, 개, ml 등 **단위 선택 칩(Chip)** UI 추가.
    *   **삭제 UX**: 상세 화면에서도 바로 부분/전체 삭제 가능.
*   **스마트 수량 조절**: 단위(g/ml)에 따라 50씩, (kg/L)는 0.1씩 조절되는 스마트 버튼 적용.
*   **모달 UX**: 버리기 팝업이 항상 최상단에 뜨도록 개선 (`Teleport` 적용).

### 4. 📆 달력 재미 요소
*   **유머러스한 만료 알림**: 만료된 재료가 있는 날짜 클릭 시, "설마 아직 안 버리고..." 같은 위트 있는 메시지와 함께 **원클릭 정리 버튼** 제공.

---

## 📅 2025.12.22 (오후) 업데이트: 아이콘 정교화 & UI/UX 대개편

### 1. 🎨 커스텀 픽셀 아트 아이콘 시스템
#### 아이콘 추출 및 정리
*   **170개 커스텀 아이콘**: 픽셀 아트 스프라이트 시트에서 개별 아이콘 추출 (4배 업스케일)
*   **수동 네이밍**: 사용자가 직접 170개 파일에 정확한 한글 이름 지정
*   **지능형 우선순위 시스템**:
    - 기본 재료(계란, 우유, 사과 등): 깔끔한 이모지 우선 🥚🥛🍎
    - 세부 구분 필요(대파, 청경채 등): 커스텀 픽셀 아트 우선
*   **중복 해결**: "숙주"와 "숙주나물" 마스터 통합, "콩나물" 아이콘 공유

#### 아이콘 적용 범위
*   **보관함 카드**: 재료 목록, 달력 뷰, 챌린지 뷰
*   **입력 페이지**: 영수증/촬영/직접입력 시 자동완성 드롭다운
*   **레시피 상세**: 필요 재료 목록

### 2. 🎀 파스텔 픽셀 테마 전면 적용
#### 디자인 컨셉
*   **색상 팔레트**: 파스텔 핑크(#FFB3D9), 하늘색(#A8D8FF), 부드러운 옐로우
*   **픽셀 아트 효과**: 레트로 게임 스타일 그림자 (4px 4px 0)
*   **배경**: 도트 패턴 + 그라디언트 (몽환적 분위기)

#### 적용된 UI 컴포넌트
*   **전역 CSS** (`main.css`):
    - 카와이 버튼 스타일 (픽셀 셰도우)
    - 파스텔 그라디언트 배경
    - 폼 인풋 테두리 색상
*   **네비게이션 바**:
    - 슬림화 (56px 높이)
    - 버튼 박스 제거, 이모티콘만 표시
    - drop-shadow로 클릭 효과
*   **모든 페이지 헤더**: 파스텔 그라디언트 적용

### 3. 📐 중앙 정렬 레이아웃 시스템
#### 문제점
*   기존: 컨텐츠가 화면 전체 너비로 과도하게 퍼짐
*   해결: 모든 페이지에 `max-width: 900px` + `margin: 0 auto` 적용

#### 수정된 페이지
*   **PantryView** (보관함):
    - 헤더, 툴바, 카테고리 칩, 재료 그리드 모두 중앙 정렬
    - 네비바 바로 아래 붙이기 (`top: 56px`)
*   **IngredientInputView** (재료 입력):
    - 카드 3개(영수증/촬영/직접입력) 중앙 정렬
    - 헤더 여백 제거
*   **RecipeListView** (레시피 목록):
    - 검색바, 추천 히어로, 레시피 그리드 중앙 정렬
    - 파스텔 핑크 그라디언트 적용
*   **ProfileView** (프로필):
    - 통계 카드에 아이콘 추가
    - 파스텔 테마 일관성 유지

### 4. 📱 반응형 웹 디자인 강화
*   **Container 시스템**:
    - Desktop: `max-width: 900px`
    - Tablet: `max-width: 100%`, `padding: 0 16px`
    - Mobile: 1열 그리드, 터치 친화적 간격
*   **Grid 자동 조정**:
    - Desktop: `minmax(280px, 1fr)`
    - Mobile: `minmax(150px, 1fr)`

### 5. 🔧 세부 개선 사항
*   **카드 반짝이 제거**: 입력 카드의 `::before` 이모티콘 제거
*   **색상 일관성**: 모든 버튼과 링크에 테마 변수 적용
*   **아이콘 렌더링**: `image-rendering: pixelated`로 선명도 향상

### 📁 새로 생성된 스크립트
*   `split_additional_icons.py` - 추가 스프라이트 시트 분할
*   `sync_icons_db.py` - 파일명 기반 DB 동기화
*   `correct_icon_priority.py` - 이모지 vs 이미지 우선순위 적용
*   `consolidate_sprouts.py` - 숙주/숙주나물 중복 제거

### 🎯 달성한 결과
*   **170개 식재료**에 맞춤 아이콘/이모지 적용
*   **전 페이지** 파스텔 픽셀 테마 통일
*   **모바일 최적화** 완료
*   **중앙 정렬 레이아웃**으로 가독성 향상

---

## 📊 프로젝트 현황 (2025.12.22 기준)
*   **레시피 DB**: 1,000개+
*   **식재료 마스터**: 974개
*   **커스텀 아이콘**: 170개
*   **코드 라인 수**: Frontend ~15,000 lines, Backend ~8,000 lines


---

## 📅 2025.12.22 (심야) 업데이트: UI/UX 감성 고도화 & 버그 수정

### 1. 🖼️ 감성 디자인 & 배경 테마 적용
*   **고퀄리티 월페이퍼 적용**:
    *   **로그인/회원가입**: 기존 단색 그라데이션에서 전용 일러스트 배경(`wallpaper.png`) 적용으로 앱 첫인상 개선.
    *   **보관함/레시피**: `wallpaper-weak.png` 배경 적용 및 **은은한 블러(Blur) 처리**로 콘텐츠 가독성과 심미성 동시 확보.
*   **배경 비율 최적화**: PC/모바일 반응형으로 꽉 채워지는(`cover`) 배경 구현.

### 2. 🧭 네비게이션 & 동선 최적화
*   **동선 분리 전략**:
    *   **로그인/가입 시** ➡️ 타이틀(메인) 페이지로 이동 (앱의 아이덴티티 전달).
    *   **앱 재실행/새로고침 시** ➡️ 보관함으로 자동 이동 (실용성 극대화).
*   **스마트 네비게이션 바**:
    *   **로고 클릭** ➡️ 최상단 타이틀 섹션으로 스크롤 이동.
    *   **홈 버튼(🏠) 클릭** ➡️ 메인 기능 버튼 섹션으로 스크롤 이동.
    *   **디자인 개선**: 로고 아이콘 + 타이틀 이미지 결합, 간격 좁힘 및 크기 확대로 가독성 Up.
*   **탈출 불가능한 '뒤로가기' 수정**:
    *   스마트 `goBack` 함수 구현: 히스토리가 있으면 뒤로, 없으면 메인으로 안전 이동 (무한 리다이렉트 방지).

### 3. 👥 프로필 및 설정 UI 고도화
*   **인터랙티브 통계**:
    *   "보관 중인 식재료" 클릭 시 ➡️ 보관함으로 이동.
    *   "유통기한 임박" 클릭 시 ➡️ 임박 재료 리스트 모달 팝업.
    *   클릭 가능한 요소에 명확한 시각적 큐(Cursor, Hover Effect) 제공.
*   **설정 페이지 개편**: 계정 설정 기능을 별도 페이지(`SettingsView`)로 분리.

### 4. 🔧 핵심 버그 수정 & 안정화
*   **CSRF 보안 강화 및 예외 처리**:
    *   프로필 수정/로그아웃 등 세션 인증이 필요한 기능에 커스텀 인증 클래스(`CsrfExemptSessionAuthentication`) 적용.
    *   "403 Forbidden" 에러 완벽 해결.
*   **백엔드 코드 구조 개선**:
    *   `NameError` 해결 (클래스 정의 순서 및 import 누락 수정).
    *   로그인/로그아웃 디버깅 로그 추가로 문제 추적 용이성 확보.
*   **라우팅 안정화**: 불필요한 리다이렉트 로직 제거 및 쿼리 파라미터/해시 기반 스크롤 제어 도입.

---

### 5. 🎨 디자인 & AI 챗봇 리뉴얼 (Final Polish)
*   **테마 대격변 (Pink & Brown)**:
    *   기존의 차가운 톤을 버리고 **Bubblegum Pink(#FFB6C1)** 와 **Chocolate Brown(#6D4C41)** 조합의 따뜻하고 귀여운 테마로 전면 교체.
    *   홈 화면 타이틀 3D 효과 및 스크롤 힌트 애니메이션(젤리) 적용.
*   **AI 챗봇 캐릭터 도입**:
    *   딱딱한 로봇 이모지를 제거하고 **전용 셰프 캐릭터** 이미지 적용.
    *   대화창 배경에 캐릭터 일러스트를 은은하게 배치하고, 핑크 그라데이션 테마로 감성 품질 향상.
*   **인터랙티브 UX (캔디 버튼)**:
    *   '더 많은 레시피 보기' 버튼에 **Candy Stripe 패턴 애니메이션** 적용.
    *   마우스 오버 시 색상이 진해지고 버튼이 **꾹 눌리는(Push) 효과**를 구현하여 클릭 재미 요소 추가.

---

## 🔮 미래 발전 아이디어 (Next Level Features)

### 💡 General Idea (서비스 확장)
1.  **📸 AR 냉장고 투시경 (AR Overlay)**: 냉장고 문을 투시하듯, 카메라로 냉장고를 비추면 식재료 위에 **D-Day 라벨**과 **추천 요리**가 증강현실로 둥둥 떠다니는 기능.
2.  **🥕 소비요정 챌린지 (Gamification)**: "이번 달 음식 쓰레기 0g 도전!" 같은 퀘스트를 수행하고 경험치를 얻어, 내 캐릭터(냉장고 요정)를 성장시키는 시스템. 레벨업 할수록 냄비, 앞치마 등 아이템 지급.
3.  **🤝 소셜 푸드 셰어링 (Community)**: "대파 한 단 샀는데 너무 많아요!" 유통기한 임박 식재료를 이웃과 나누거나 물물교환할 수 있는 당근마켓 스타일 게시판.

### ⚙️ Backend (지능화)
1.  **🧠 동적 소비기한 예측 (AI Prediction)**: 단순히 DB상의 유통기한이 아니라, 사용자가 재료를 **언제 개봉했는지**, **과거에 며칠 만에 다 먹었는지** 패턴을 학습하여 실제 상하기 직전 타이밍을 정밀 예측.
2.  **🕸️ 유튜브 레시피 크롤링 & 요약**: 텍스트 레시피뿐만 아니라, 인기 요리 유튜버의 영상을 크롤링하고 AI가 **"3줄 요약 레시피"**로 변환하여 DB 자동 확장.

### 🎨 Frontend (인터랙션)
1.  **🍳 드래그 앤 쿡 (Drag & Cook)**: 냉장고 속 재료 아이콘을 손가락으로 끌어서 화면 중앙의 **냄비**에 퐁당 빠트리면, 섞인 재료에 맞는 요리가 뿅! 하고 나타나는 미니게임 인터페이스.
2.  **📊 소비 리포트 대시보드**: "이번 달은 고기를 너무 많이 드셨네요!", "채소 섭취가 부족해요" 류의 영양 분석 및 가계부 연동 차트 제공.

---

## 🧐 프로젝트 비판적 분석 (SWOT Analysis)

### 💪 Strength (강점)
*   **감성 UI**: Y2K 파스텔 톤과 귀여운 캐릭터로, 딱딱한 관리 앱이 아닌 **"다꾸(다이어리 꾸미기)"** 느낌을 주어 사용자 애착 형성 유리.
*   **강력한 OCR**: 영수증 인식 + AI 교정 기능은 타 앱에서 보기 힘든 고도화된 편의 기능.

### 😫 Weakness (약점)
*   **귀차니즘 (진입 장벽)**: 아무리 OCR이 좋아도, 장 볼 때마다 찍고 입력하는 과정은 결국 귀찮다. (자동화의 한계) -> **솔루션**: 마켓컬리/쿠팡 주문 내역 연동이 필요함.
*   **부족한 레시피 DB**: 현재 1,000개 수준으로는 사용자가 원하는 트렌디한 요리(예: 마라로제떡볶이)를 커버하기 어려움.

### 🌊 Opportunity (기회)
*   **ESG & 고물가 트렌드**: 식재료 물가 상승으로 **"냉장고 파먹기"**와 **"제로 웨이스트"** 니즈가 폭발적임. 이 타이밍을 노려 **"돈 아껴주는 앱"**으로 마케팅 가능.

### ⚠️ Threat (위협)
*   **스마트 냉장고 하드웨어**: 삼성 비스포크, LG 디오스 등 최신 냉장고 자체가 OS를 탑재하고 나오기 시작함. 앱이 아닌 하드웨어 일체형 서비스와의 경쟁 불가피.
*   **유지보수 비용**: 이미지(OCR), 레시피 추천(LLM) 등 AI API 비용이 사용자 증가에 비례해 급증할 수 있음.

---

## 2025.12.23 (심야) 업데이트: 소셜 로그인 구현 🔐

### 📌 주요 변경 사항

#### 1️⃣ Google 로그인 연동
*   **Backend**: `dj-rest-auth` + `django-allauth`를 활용한 구글 OAuth2 인증 구현
*   **Frontend**: `vue3-google-login` 라이브러리 연동
*   **설정 파일**: `backend/.env`에 `SOCIAL_AUTH_GOOGLE_CLIENT_ID` 추가

#### 2️⃣ Kakao 로그인 연동
*   **Backend**: 카카오 OAuth2 인증 구현 (code → access_token 교환 로직 포함)
*   **Frontend**: Kakao JS SDK 연동 및 리다이렉트 방식 로그인 구현
*   **콜백 페이지**: `/auth/kakao/callback` 라우트 및 `KakaoCallbackView.vue` 생성
*   **설정 파일**: 
    *   `backend/.env`에 `SOCIAL_AUTH_KAKAO_CLIENT_ID` 추가
    *   `frontend/.env`에 `VITE_KAKAO_API_KEY` 추가

### 🔧 기술적 세부 사항

*   **세션 인증 방식**: 소셜 로그인 시 Django 세션 쿠키를 통한 인증 (토큰 + 세션 하이브리드)
*   **CORS 설정 완화**: `SameSite=Lax`, `CSRF_COOKIE_SECURE=False` (로컬 개발 환경용)
*   **UserProfile 자동 생성**: 소셜 로그인으로 가입한 유저도 `get_or_create`로 프로필 자동 생성

### 📁 수정된 파일 목록

**Backend:**
*   `config/settings.py` - allauth/dj-rest-auth 설정, CORS, 쿠키 설정
*   `accounts/views.py` - `GoogleLogin`, `KakaoLogin` 뷰 추가
*   `accounts/urls.py` - `/google/`, `/kakao/` 엔드포인트 추가

**Frontend:**
*   `src/views/auth/LoginView.vue` - 구글/카카오 로그인 버튼 추가
*   `src/views/auth/KakaoCallbackView.vue` - 카카오 콜백 처리 (신규)
*   `src/router/index.js` - `/auth/kakao/callback` 라우트 추가
*   `src/store/auth.js` - `googleLogin`, `kakaoLogin` 액션 추가
*   `src/api/auth.js` - 소셜 로그인 API 함수 추가
*   `index.html` - Kakao SDK 스크립트 태그 추가

### 📝 환경 변수 설정 가이드

*   `SOCIAL_AUTH_SETUP.md` 파일에 구글/카카오 키 발급 및 설정 방법 상세 기술

### ⚠️ 알려진 이슈

*   카카오 이메일 동의항목은 **비즈앱 전환** 후 사용 가능 (현재는 닉네임만 수집)
*   앱 초기 로드 시 `/api/users/me/` 401 에러는 정상 동작 (로그인 상태 확인용)

---

## 📅 2025.12.23 (오후) 업데이트: UI/UX 마무리 및 통계 기능

### 1. 🎨 UI/UX 완전 정복 (Polishing)
*   **헤더 디자인 통일**: 
    - 들쑥날쑥하던 헤더 위치와 스타일을 `header-premium`으로 전면 통일.
    - 모든 페이지 (`Pantry`, `Profile`, `RecipeList`, `RecipeDetail`)의 '뒤로가기' 버튼을 좌측 상단으로 고정하여 사용자 경험(UX) 일관성 확보.
*   **Pantry UI 수정**: 
    - '부분 삭제 / 전체 삭제' 모달의 CSS가 `Teleport`로 인해 깨지는 현상을 `!important`와 전역 스타일로 완벽하게 복구.
    - 관련 레시피(Related Recipe) 로딩 시 `undefined` 에러 방지 및 이미지가 없을 경우 깨진 아이콘 대신 예쁜 기본 아이콘(🍲) 표시.

### 2. 📸 레시피 이미지 업로드
*   **Frontend**: 
    - 레시피 상세 페이지에서 **내가 작성한 레시피**인 경우에만 📷 카메라 아이콘 노출.
    - 클릭 시 즉시 파일 탐색기가 열리고 이미지를 업로드 가능.
*   **Backend**: 
    - `RecipeViewSet`을 `ReadOnlyModelViewSet`에서 **`ModelViewSet`**으로 업그레이드 (생성/수정/삭제 가능).
    - `MultiPartParser`를 추가하여 이미지 파일(`multipart/form-data`) 업로드 완벽 지원.
    - Serializer 수정: 업로드된 이미지가 있으면 우선 표시하도록 로직 개선.

### 3. 📊 통계 기능 고도화
*   **주간 챌린지 업데이트**: 
    - **'등록한 레시피'**: 내가 직접 만든 레시피 개수를 통계 카드로 추가.
    - **'냉장고 건강 점수'**: 막연한 '절약 금액' 대신, 실제 데이터(유통기한 상태)를 기반으로 한 건강 점수(100점 만점) 시스템 신설.
    - 중복 Import 및 불필요한 코드를 정리하여 안정성 향상.

### 4. 📁 수정된 파일 목록
*   `views/refrigerator/PantryView.vue` - 헤더 수정, 모달 CSS 복구
*   `views/recipe/RecipeDetailView.vue` - 이미지 업로드 버튼, 헤더 통일
*   `components/WeeklyChallenge.vue` - 통계 항목 추가 (레시피 수, 건강 점수)
*   `backend/recipes/views.py` - Image Upload 지원 (Parser 추가)
*   `backend/recipes/serializers.py` - Image Field 지원
